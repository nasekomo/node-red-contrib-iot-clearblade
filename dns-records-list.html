<!--
Copyright 2020 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<script type="text/html" data-template-name="google-cloud-dns-records-list">
    <!--Name-->
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>

    <!--Credentials-->
    <div class="form-row">
        <label for="node-input-account"><i class="fa fa-user"></i> Credentials</label>
        <input type="text" id="node-input-account">        
    </div>

    <!--Key File-->
    <div class="form-row">
        <label for="node-input-keyFilename"><i class="fa fa-user"></i> Key File</label>
        <input type="text" id="node-input-keyFilename">
    </div>

    <!--Project-->
    <div class="form-row">
        <label for="node-input-projectId"><i class="fa fa-cloud"></i> Project</label>
        <input type="text" id="node-input-projectId">
    </div>

    <!--Managed Zone-->
    <div class="form-row">
        <label for="node-input-managedZone"><i class="fa fa-search"></i> Managed Zone</label>
        <input type="text" id="node-input-managedZone">
    </div>  
</script>

<script type="text/html" data-help-name="google-cloud-dns-records-list">
    <p>Enumerate ResourceRecordSets that have been created but not yet deleted.</p>
    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>msg.maxResults
            <span class="property-type">int</span>
        </dt>
        <dd>Optional. Maximum number of results to be returned.</dd>
    </dl>
    <dl class="message-properties">
        <dt>msg.name
            <span class="property-type">array</span>
        </dt>
        <dd>Restricts the list to return only records with this fully qualified domain name.</dd>
    </dl>
    <dl class="message-properties">
        <dt>msg.pageToken
            <span class="property-type">array</span>
        </dt>
        <dd>Optional. A tag returned by a previous list request that was truncated. Use this parameter to continue a previous list request.</dd>
    </dl>
    <dl class="message-properties">
        <dt>msg.type
            <span class="property-type">array</span>
        </dt>
        <dd>Restricts the list to return only records of this type. If present, the <code>name</code> parameter must also be present.</dd>
    </dl>
    <h3>Details</h3>
    <p>
    The DNS Record List node wraps the <a href="https://cloud.google.com/dns/docs/reference/v1/resourceRecordSets/list">ResourceRecordSets List</a> request.
    </p>
    <p>
    On return, an array of <a href="https://cloud.google.com/dns/docs/reference/v1/resourceRecordSets#resource">ResourceRecordSets</a>
    will be saved in <code>msg.payload</code>, and the raw response from the Javascript client library will be stored in <code>msg.response</code>.
    </p>
</script>

<script type="text/javascript">
RED.nodes.registerType("google-cloud-dns-records-list", {
    category: "GCP",
    defaults: {
        account: { type: "google-cloud-credentials", required: false },
        keyFilename: { value: "", required: false },
        projectId: { value: "", required: false},
        managedZone: { value: "", required: false },
        name: { value: "", required: false }
    },
    inputs: 1,
    outputs: 1,
    align: "left",
    color: "#3FADB5",
    label: function () {
        return this.name || "dns-records-list";
    },
    paletteLabel: "dns-records-list"
});
</script>
